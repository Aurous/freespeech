(this.webpackJsonpfreespeech=this.webpackJsonpfreespeech||[]).push([[0],{57:function(e,t,a){e.exports=a(69)},62:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),s=(a(62),a(12)),c=a(8),l=a(14),u=a(15),h=a(17),m=a(16),p=a(22),d=a(27),b=a(111),g=a(105),f=a(51),E=a(107),v=a(99),y=a(103),j=a(72),S=a(110),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement(v.a,{position:"static",color:"inherit"},r.a.createElement(y.a,{variant:"dense"},r.a.createElement(j.a,{variant:"h6",style:{flexGrow:1}},"Freespeech"),this.props.isSignedIn?r.a.createElement(p.b,{to:"/logout"},r.a.createElement(S.a,null,"Logout")):r.a.createElement("div",null,r.a.createElement(p.b,{to:"/signup"},r.a.createElement(S.a,null,"Signup")),r.a.createElement(p.b,{to:"/login"},r.a.createElement(S.a,null,"Login"))))))}}]),t}(n.Component),I=a(4),w=a(104),C=a(70),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={speechItems:[]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"speakText",value:function(e,t){var a=this.props.SpeechSynth.getVoices(),n=new SpeechSynthesisUtterance(e);n.voice=a[t],this.props.SpeechSynth.speak(n)}},{key:"componentDidMount",value:function(){var e=this;this.props.isSignedIn&&fetch("http://ryanhill.com:5000/speechItems",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+this.props.accessToken}}).then((function(e){return e.json()})).then((function(t){t.error?e.setState({submitable:!0,message:t.error}):e.setState({speechItems:t})})).catch(console.log)}},{key:"componentWillUnmount",value:function(){this.props.SpeechSynth.cancel()}},{key:"render",value:function(){var e=this,t=this.props.theme,a=Object(I.a)({root:{display:"flex","& > *":{margin:t.spacing(1),width:t.spacing(16),height:t.spacing(16)}}})((function(t){var a=t.classes;return e.state.speechItems.map((function(e){return r.a.createElement(w.a,{item:!0,xs:12,sm:3,md:2,lg:2,xl:2,className:a.root},r.a.createElement(C.a,{variant:"outlined",id:e.id},e.text))}))}));return this.props.isSignedIn?r.a.createElement(w.a,{container:!0},r.a.createElement(a,null)):r.a.createElement(d.a,{to:"/login"})}}]),t}(n.Component),x=a(11),T=a(108),W=a(106),P=a(32),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={submitable:!0,message:"",toLogin:!1},a.handleInputChange=a.handleInputChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({submitable:!1}),console.log(JSON.stringify(this.state)),fetch("http://ryanhill.com:5000/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.state)}).then((function(e){return e.json()})).then((function(e){e.error?t.setState({submitable:!0,message:e.error}):t.setState({toLogin:!0})})).catch(console.log)}},{key:"handleInputChange",value:function(e){var t=e.target,a="password"===t.type?Object(P.sha256)(t.value):t.value,n=t.name;this.setState(Object(x.a)({},n,a))}},{key:"render",value:function(){return this.props.isSignedIn?r.a.createElement(d.a,{to:"/home"}):this.state.toLogin?r.a.createElement(d.a,{to:"/login"}):r.a.createElement(g.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(j.a,{component:"h1",variant:"h3"},"Sign up"),r.a.createElement(j.a,{component:"h1",variant:"h6",color:"secondary"},this.state.message),r.a.createElement("br",null),r.a.createElement("form",{style:{width:"100%"},onSubmit:this.onSubmit},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"name",label:"Full Name",name:"name",autoComplete:"name",onChange:this.handleInputChange})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:this.handleInputChange})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",inputProps:{pattern:"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$",title:"Password required to be a minimum of eight in length with one uppercase letter, one lowercase letter, one number, and one special character"},label:"Password",type:"password",id:"password",autoComplete:"passowrd",onChange:this.handleInputChange})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,name:"repassword",inputProps:{pattern:"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$"},label:"Re-type Password",type:"password",id:"repassword",autoComplete:"password",onChange:this.handleInputChange}))),r.a.createElement("br",null),r.a.createElement(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:!this.state.submitable},"Sign Up"),r.a.createElement(w.a,{container:!0,justify:"flex-end"},r.a.createElement(w.a,{item:!0},r.a.createElement(W.a,{href:"/login",variant:"body2",color:"inherit"},"Already have an account? Sign in"))))))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={submitable:!0,message:""},a.handleInputChange=a.handleInputChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({submitable:!1}),fetch("http://ryanhill.com:5000/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.state)}).then((function(e){return e.json()})).then((function(e){e.error?t.setState({submitable:!0,message:e.error}):t.props.update(!0,e.accessToken,e.refreshToken,e.preferredVoiceId)})).catch(console.log)}},{key:"handleInputChange",value:function(e){var t=e.target,a="password"===t.type?Object(P.sha256)(t.value):t.value,n=t.name;this.setState(Object(x.a)({},n,a))}},{key:"render",value:function(){return this.props.isSignedIn?r.a.createElement(d.a,{to:"/home"}):r.a.createElement(g.a,{component:"main",maxWidth:"xs"},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(j.a,{component:"h1",variant:"h3",style:{marginTop:"5px"}},"Login"),r.a.createElement(j.a,{component:"h1",variant:"h6",color:"secondary"},this.state.message),r.a.createElement("br",null),r.a.createElement("form",{id:"loginform",onSubmit:this.onSubmit,style:{width:"100%"}},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:this.handleInputChange})),r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"password",onChange:this.handleInputChange}))),r.a.createElement("br",null),r.a.createElement(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:!this.state.submitable},"Login"),r.a.createElement(w.a,{container:!0},r.a.createElement(w.a,{item:!0,xs:!0},r.a.createElement(W.a,{href:"#",hidden:!0,variant:"body2",color:"inherit"},"Forgot password?")),r.a.createElement(w.a,{item:!0},r.a.createElement(W.a,{href:"/signup",variant:"body2",color:"inherit"},"Don't have an account? Sign Up"))))))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"MyComponent")}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.update(!1,"","",0),r.a.createElement(d.a,{to:"/login"})}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Error 404")}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isSignedIn:!1,accessToken:"",refreshToken:"",preferredVoiceId:0},a.update=a.update.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"update",value:function(e,t,a,n){this.setState({isSignedIn:e,accessToken:t,refreshToken:a,preferredVoiceId:n})}},{key:"render",value:function(){var e=Object(f.a)({palette:{type:"dark"}});return r.a.createElement(E.a,{theme:e},r.a.createElement(b.a,null),r.a.createElement(p.a,null,r.a.createElement(O,{isSignedIn:this.state.isSignedIn}),r.a.createElement(g.a,null,r.a.createElement("br",null),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",exact:!0,component:L}),r.a.createElement(d.b,{path:"/home"},r.a.createElement(k,{theme:e,isSignedIn:this.state.isSignedIn,accessToken:this.state.accessToken,refreshToken:this.state.refreshToken,SpeechSynth:window.speechSynthesis})),r.a.createElement(d.b,{path:"/signup"},r.a.createElement(q,{isSignedIn:this.state.isSignedIn})),r.a.createElement(d.b,{path:"/login"},r.a.createElement(A,{update:this.update,isSignedIn:this.state.isSignedIn})),r.a.createElement(d.b,{path:"/logout"},r.a.createElement(D,{update:this.update,isSignedIn:this.state.isSignedIn})),r.a.createElement(d.b,{path:"*",component:U})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.8bfd3683.chunk.js.map